(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{380:function(s,t,a){"use strict";a.r(t);var n=a(0),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h3",{attrs:{id:"_1-jps：显示当前所有java进程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-jps：显示当前所有java进程"}},[s._v("#")]),s._v(" 1. jps：显示当前所有java进程")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("usage: jps "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-help"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n       jps "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-q"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-mlvV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("hostid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\nDefinitions:\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("hostid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(":      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("ul",[a("li",[s._v("q 只显示pid，不显示class名称,jar文件名和传递给main方法的参数")]),s._v(" "),a("li",[s._v("m 输出传递给main方法的参数，在嵌入式jvm上可能是null")]),s._v(" "),a("li",[s._v("l 输出应用程序main class的完整package名或者应用程序的jar文件完整路径名")]),s._v(" "),a("li",[s._v("v 输出传递给JVM的参数")]),s._v(" "),a("li",[s._v("V 隐藏输出传递给JVM的参数")])]),s._v(" "),a("h3",{attrs:{id:"_2-jstack：显示线程信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-jstack：显示线程信息"}},[s._v("#")]),s._v(" 2. jstack：显示线程信息")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Usage:\n    jstack "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to connect to running process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 连接活动线程\n    jstack -F "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to connect to a hung process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 连接阻塞线程\n    jstack "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("executable"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to connect to a core "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 连接dump的文件\n    jstack "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-m"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-l"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("server_id@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote server IP or hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to connect to a remote debug server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 连接远程服务器\n\nOptions:\n    -F  to force a thread dump. Use when jstack "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" does not respond "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("process is hung"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    -m  to print both java and native frames "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("mixed mode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    -l  long listing. Prints additional information about locks\n    -h or -help to print this "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" message\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h5",{attrs:{id:"使用样例请移步：jstack-命令解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用样例请移步：jstack-命令解析"}},[s._v("#")]),s._v(" 使用样例请移步："),a("a",{attrs:{href:"https://www.jianshu.com/p/8d5782bc596e",target:"_blank",rel:"noopener noreferrer"}},[s._v("jstack 命令解析"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_3-jmap：显示内存信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-jmap：显示内存信息"}},[s._v("#")]),s._v(" 3. jmap：显示内存信息")]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("Usage:\n    jmap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("option"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to connect to running process"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    jmap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("option"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("executable "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("core"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to connect to a core "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    jmap "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("option"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("server_id@"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("remote server IP or hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("to connect to remote debug server"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\nwhere "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("option"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" is one of:\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("               to print same info as Solaris pmap\n    -heap                to print java heap summary\n    -histo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(":live"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("        to print histogram of java object heap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" the "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"live"')]),s._v("\n                         suboption is specified, only count live objects\n    -clstats             to print class loader statistics\n    -finalizerinfo       to print information on objects awaiting finalization\n    -dump:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("dump-options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" to dump java heap "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" hprof binary "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v("\n                         dump-options:\n                           live         dump only live objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" not specified,\n                                        all objects "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" the heap are dumped.\n                           "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("format")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("b     binary "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v("\n                           "),a("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("file")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  dump heap to "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n                         Example: jmap -dump:live,format"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("b,file"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("heap.bin "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n    -F                   force. Use with -dump:"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("dump-options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" or -histo\n                         to force a heap dump or histogram when "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("pid"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" does not\n                         respond. The "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"live"')]),s._v(" suboption is not supported\n                         "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" this mode.\n    -h "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" -help           to print this "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("help")]),s._v(" message\n    -J"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("flag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("             to pass "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("flag"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" directly to the runtime system\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br")])]),a("h5",{attrs:{id:"参数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[s._v("#")]),s._v(" 参数")]),s._v(" "),a("ul",[a("li",[s._v("option： 选项参数。")]),s._v(" "),a("li",[s._v("pid： 需要打印配置信息的进程ID。")]),s._v(" "),a("li",[s._v("executable： 产生核心dump的Java可执行文件。")]),s._v(" "),a("li",[s._v("core： 需要打印配置信息的核心文件。")]),s._v(" "),a("li",[s._v("server-id 可选的唯一id，如果相同的远程主机上运行了多台调试服务器，用此选项参数标识服务器。")]),s._v(" "),a("li",[s._v("remote server IP or hostname 远程调试服务器的IP地址或主机名。")])]),s._v(" "),a("h5",{attrs:{id:"option："}},[a("a",{staticClass:"header-anchor",attrs:{href:"#option："}},[s._v("#")]),s._v(" option：")]),s._v(" "),a("ul",[a("li",[s._v("no option： 查看进程的内存映像信息,类似 Solaris pmap 命令。")]),s._v(" "),a("li",[s._v("heap： 显示Java堆详细信息")]),s._v(" "),a("li",[s._v("histo[:live]： 显示堆中对象的统计信息")]),s._v(" "),a("li",[s._v("clstats：打印类加载器信息")]),s._v(" "),a("li",[s._v("finalizerinfo： 显示在F-Queue队列等待Finalizer线程执行finalizer方法的对象")]),s._v(" "),a("li",[s._v("dump:"),a("dump-options",[s._v("：生成堆转储快照")])],1),s._v(" "),a("li",[s._v("F： 当-dump没有响应时，使用-dump或者-histo参数. 在这个模式下,live子参数无效.")]),s._v(" "),a("li",[s._v("help：打印帮助信息")]),s._v(" "),a("li",[s._v("J"),a("flag",[s._v("：指定传递给运行jmap的JVM的参数")])],1)]),s._v(" "),a("h5",{attrs:{id:"使用样例请移步：jvm-性能调优工具之-jmap"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用样例请移步：jvm-性能调优工具之-jmap"}},[s._v("#")]),s._v(" 使用样例请移步："),a("a",{attrs:{href:"https://www.jianshu.com/p/a4ad53179df3",target:"_blank",rel:"noopener noreferrer"}},[s._v("jvm 性能调优工具之 jmap"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"_4-perfma：在线分析线程dump和内存dump工具"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-perfma：在线分析线程dump和内存dump工具"}},[s._v("#")]),s._v(" 4. "),a("a",{attrs:{href:"https://console.perfma.com/",target:"_blank",rel:"noopener noreferrer"}},[s._v("PerfMa"),a("OutboundLink")],1),s._v("：在线分析线程dump和内存dump工具")])])}),[],!1,null,null,null);t.default=e.exports}}]);