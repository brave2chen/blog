---
title: spring资源注入注解 @Autowired @Qualifier @Resource的差异性
date: 2018-12-15
sidebar: false
tags:
 - Spring
categories:
 - Java
---

spring对象（@Controller @Service @Component @Repository）在注入其他spring对象（@Service @Component @Repository）的时候，可以在成员变量上使用注入注解@Autowired或者@Resource.如果被注入资源是继承了接口的模式，并且实现类有多个的情况下，那么@Autowired或者@Resource就会有较大的差异性，如下：

```java
@Service("myServiceImpl1")
public class MyServiceImpl1 implements IService{
}

@Service("myServiceImpl2")
public class MyServiceImpl2 implements IService{
}
```

如果需要在Controller中注入MyServiceImpl1，方式如下： 
**方式一：**

```java
@Controller
public class MyController{
    @Resource(name="myServiceImpl1")
    private IService serviceImpl;
}

@Controller
public class MyController{
    @Autowired
    @Qualifer("myServiceImpl1")
    private IService serviceImpl;
}
```

这种方式是最基本的使用方式，都可以达到注入资源的目的 
***差异1：*** 
@Resource默认是按照资源的名称（name）查找并注入的 
@Autowired默认是按照资源的类型（class）查找并注入的 
因此采用@Resource一般都会带上资源的名称确保资源的唯一性，采用@Autowired如果存在多个实现类的情况下，通过类型无法确定唯一性，需要结合@Qualifer注解通过资源名称确定唯一性

**方式二：**

```java
@Controller
public class MyController{
    @Resource
    private IService myServiceImpl1;
}

@Controller
public class MyController{
    @Autowired
    private IService myServiceImpl1;
}
```

这种方式在没有指定具体的资源名称情况下，也可以达到注入资源的目的，但是和第一种方式的区别是，加注解的属性名称必须和被注入资源的名称保持一致，但@Resource没有添加name属性，@Autowired没有添加@Qualifer的情况下，默认查找资源的方式是不同的 
***差异2：*** 
@Resource没有指定资源名称（name）时，默认会把属性的名称作为资源名称，类似于@Resource(name=”myServiceImpl1”)，如果还是没有找到，会回退到资源类型的方式进行资源注入，类似于按照@Autowired方式继续注入 
@Autowired没有增加@Qualifer,如果查找类型有多个实现，会按照名称的方式进行资源注入，类似于按照@Resource方式继续注入

**方式三：** 
如果存在资源的实现有多个，注入时不指定名称，未来可以随意切换资源时，可以用该方式

```java
@Service("myServiceImpl1")
@Primary
public class MyServiceImpl1 implements IService{
}

@Service("myServiceImpl2")
public class MyServiceImpl2 implements IService{
}
```

在实现资源的时候，如果资源有多个，可以将其中一个增加@Primary作为主资源，那么在Controller注入该资源时，可以不指定资源名称，如下:

```java
@Controller
public class MyController{
    @Resource
    private IService serviceImpl;
}

@Controller
public class MyController{
    @Autowired
    private IService serviceImpl;
}
```

可以看出@Resource和@Autowired在该方式下都是可行的，而且属性名称和资源名称可以不一样，未来如果需要切换资源，只需要将@Primary换个资源即可。

 
::: tip
综上结论 @Resource和@Autowired的差异
1. @Resource默认是按照名称来装配注入的，只有当找不到与名称匹配的bean才会按照类型来装配注入； 
2. @Autowired默认是按照类型装配注入的，如果想按照名称来转配注入，则需要结合@Qualifier一起使用，只有当找不到与类型匹配的bean才会按照名称来装备注入； 
3. @Resource注解是由J2EE提供，@Autowired是由spring提供;
:::

原文链接：[spring资源注入注解 @Autowired @Qualifier @Resource的差异性](https://blog.csdn.net/xujian_2001/article/details/79050429)